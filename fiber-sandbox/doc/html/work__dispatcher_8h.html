<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>monad core runloop: include/monad/async/work_dispatcher.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">monad core runloop
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_e06f317e197b11f262881a927ceb2703.html">monad</a></li><li class="navelem"><a class="el" href="dir_be5960affa6c37e6690634143faeeb04.html">async</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">work_dispatcher.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="executor_8h_source.html">executor.h</a>&quot;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for work_dispatcher.h:</div>
<div class="dyncontent">
<div class="center"><img src="work__dispatcher_8h__incl.png" border="0" usemap="#ainclude_2monad_2async_2work__dispatcher_8h" alt=""/></div>
<map name="ainclude_2monad_2async_2work__dispatcher_8h" id="ainclude_2monad_2async_2work__dispatcher_8h">
<area shape="rect" title=" " alt="" coords="5,5,151,47"/>
<area shape="rect" href="executor_8h.html" title=" " alt="" coords="111,95,194,121"/>
<area shape="rect" title=" " alt="" coords="125,319,215,345"/>
<area shape="rect" href="config_8h.html" title=" " alt="" coords="460,319,528,345"/>
<area shape="rect" title=" " alt="" coords="41,169,115,196"/>
<area shape="rect" href="async_2task_8h.html" title=" " alt="" coords="225,169,283,196"/>
<area shape="rect" href="boost__result_8h.html" title=" " alt="" coords="442,393,546,420"/>
<area shape="rect" title=" " alt="" coords="461,468,527,495"/>
<area shape="rect" href="context__switcher_8h.html" title=" " alt="" coords="291,244,422,271"/>
<area shape="rect" title=" " alt="" coords="241,319,315,345"/>
<area shape="rect" title=" " alt="" coords="341,319,405,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="work__dispatcher_8h__dep__incl.png" border="0" usemap="#ainclude_2monad_2async_2work__dispatcher_8hdep" alt=""/></div>
<map name="ainclude_2monad_2async_2work__dispatcher_8hdep" id="ainclude_2monad_2async_2work__dispatcher_8hdep">
<area shape="rect" title=" " alt="" coords="5,5,151,47"/>
<area shape="rect" href="async_2all_8h.html" title=" " alt="" coords="5,95,151,136"/>
<area shape="rect" href="cpp__helpers_8hpp.html" title=" " alt="" coords="5,184,151,225"/>
</map>
</div>
</div>
<p><a href="work__dispatcher_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmonad__async__work__dispatcher__head.html">monad_async_work_dispatcher_head</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public attributes of a work dispatcher.  <a href="structmonad__async__work__dispatcher__head.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmonad__async__work__dispatcher__executor__head.html">monad_async_work_dispatcher_executor_head</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public attributes of a work dispatcher.  <a href="structmonad__async__work__dispatcher__executor__head.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmonad__async__work__dispatcher__attr.html">monad_async_work_dispatcher_attr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attributes by which to construct a work dispatcher.  <a href="structmonad__async__work__dispatcher__attr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmonad__async__work__dispatcher__executor__attr.html">monad_async_work_dispatcher_executor_attr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attributes by which to construct a work dispatcher.  <a href="structmonad__async__work__dispatcher__executor__attr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aeb6600c73a6a1d0adce01e614da4d9f6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmonad__async__work__dispatcher__head.html">monad_async_work_dispatcher_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a></td></tr>
<tr class="memdesc:aeb6600c73a6a1d0adce01e614da4d9f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public attributes of a work dispatcher.  <a href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">More...</a><br /></td></tr>
<tr class="separator:aeb6600c73a6a1d0adce01e614da4d9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14eb0cea2c3bf88075dbf0c0411cdacd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmonad__async__work__dispatcher__executor__head.html">monad_async_work_dispatcher_executor_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a></td></tr>
<tr class="memdesc:a14eb0cea2c3bf88075dbf0c0411cdacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public attributes of a work dispatcher.  <a href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">More...</a><br /></td></tr>
<tr class="separator:a14eb0cea2c3bf88075dbf0c0411cdacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aea9f0962bcc9ed37ffd7eaba0c1e0057"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#aea9f0962bcc9ed37ffd7eaba0c1e0057">monad_async_work_dispatcher_create</a> (<a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> *dp, struct <a class="el" href="structmonad__async__work__dispatcher__attr.html">monad_async_work_dispatcher_attr</a> *attr)</td></tr>
<tr class="memdesc:aea9f0962bcc9ed37ffd7eaba0c1e0057"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPENSIVE Creates a work dispatcher instance.  <a href="work__dispatcher_8h.html#aea9f0962bcc9ed37ffd7eaba0c1e0057">More...</a><br /></td></tr>
<tr class="separator:aea9f0962bcc9ed37ffd7eaba0c1e0057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271ff0cc912dfde2e274e038f5394237"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a271ff0cc912dfde2e274e038f5394237">monad_async_work_dispatcher_destroy</a> (<a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> dp)</td></tr>
<tr class="memdesc:a271ff0cc912dfde2e274e038f5394237"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPENSIVE Destroys a work dispatcher instance.  <a href="work__dispatcher_8h.html#a271ff0cc912dfde2e274e038f5394237">More...</a><br /></td></tr>
<tr class="separator:a271ff0cc912dfde2e274e038f5394237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c96681377b6ba5431afc79ae66fe475"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a6c96681377b6ba5431afc79ae66fe475">monad_async_work_dispatcher_executor_create</a> (<a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a> *ex, <a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> dp, struct <a class="el" href="structmonad__async__work__dispatcher__executor__attr.html">monad_async_work_dispatcher_executor_attr</a> *attr)</td></tr>
<tr class="memdesc:a6c96681377b6ba5431afc79ae66fe475"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPENSIVE Creates a work dispatcher executor instance.  <a href="work__dispatcher_8h.html#a6c96681377b6ba5431afc79ae66fe475">More...</a><br /></td></tr>
<tr class="separator:a6c96681377b6ba5431afc79ae66fe475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfb10eefdf5a391506bc69eae3a5300"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a6cfb10eefdf5a391506bc69eae3a5300">monad_async_work_dispatcher_executor_destroy</a> (<a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a> ex)</td></tr>
<tr class="memdesc:a6cfb10eefdf5a391506bc69eae3a5300"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPENSIVE Destroys a work dispatcher executor instance.  <a href="work__dispatcher_8h.html#a6cfb10eefdf5a391506bc69eae3a5300">More...</a><br /></td></tr>
<tr class="separator:a6cfb10eefdf5a391506bc69eae3a5300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01dae157c52d239202aad1ae282b2019"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a01dae157c52d239202aad1ae282b2019">monad_async_work_dispatcher_executor_run</a> (<a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a> ex)</td></tr>
<tr class="memdesc:a01dae157c52d239202aad1ae282b2019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <code><a class="el" href="executor_8h.html#aa167bb2f98d160c08fd028073a2df447" title="Processes no more than max_items work items, returning the number of items processed....">monad_async_executor_run()</a></code> for the calling kernel thread, attaching tasks recently submitted to kernel threads in the pool with spare capacity as per the work dispatcher's configured policy. Returns the number of work items executed, or -1 when time to exit.  <a href="work__dispatcher_8h.html#a01dae157c52d239202aad1ae282b2019">More...</a><br /></td></tr>
<tr class="separator:a01dae157c52d239202aad1ae282b2019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821ef94bdaf5508498f76fe04675111d"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a821ef94bdaf5508498f76fe04675111d">monad_async_work_dispatcher_executor_wake</a> (<a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a> ex, monad_async_result const *cause_run_to_return)</td></tr>
<tr class="memdesc:a821ef94bdaf5508498f76fe04675111d"><td class="mdescLeft">&#160;</td><td class="mdescRight">THREADSAFE Causes a sleeping work dispatcher executor to wake. Same as <code><a class="el" href="executor_8h.html#a8e97a25b5a5b75dd3fe5297ec269e7f4" title="THREADSAFE Causes a sleeping executor to wake. Can be called from any kernel thread....">monad_async_executor_wake()</a></code>, but for work dispatcher executors.  <a href="work__dispatcher_8h.html#a821ef94bdaf5508498f76fe04675111d">More...</a><br /></td></tr>
<tr class="separator:a821ef94bdaf5508498f76fe04675111d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace405a76e521732a854b159027cc1eb"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#aace405a76e521732a854b159027cc1eb">monad_async_work_dispatcher_submit</a> (<a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> dp, <a class="el" href="context__switcher_8h.html#a9d073079b268e65401e6d5ce11928d94">monad_async_task</a> *tasks, size_t count)</td></tr>
<tr class="memdesc:aace405a76e521732a854b159027cc1eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">THREADSAFE Submits one or more tasks to be executed by the first available executor within the work dispatcher pool. Higher priority tasks are executed before lower priority tasks.  <a href="work__dispatcher_8h.html#aace405a76e521732a854b159027cc1eb">More...</a><br /></td></tr>
<tr class="separator:aace405a76e521732a854b159027cc1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2debdea771ea3da824cfcec8bec19b"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a2e2debdea771ea3da824cfcec8bec19b">monad_async_work_dispatcher_wait</a> (<a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> dp, size_t max_undispatched, size_t max_unexecuted, struct timespec *timeout)</td></tr>
<tr class="memdesc:a2e2debdea771ea3da824cfcec8bec19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">THREADSAFE Wait until all work has been dispatched or executed.  <a href="work__dispatcher_8h.html#a2e2debdea771ea3da824cfcec8bec19b">More...</a><br /></td></tr>
<tr class="separator:a2e2debdea771ea3da824cfcec8bec19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38112db863b6929daa41acda7b39e32b"><td class="memItemLeft" align="right" valign="top">monad_async_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="work__dispatcher_8h.html#a38112db863b6929daa41acda7b39e32b">monad_async_work_dispatcher_quit</a> (<a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> dp, size_t max_executors, struct timespec *timeout)</td></tr>
<tr class="memdesc:a38112db863b6929daa41acda7b39e32b"><td class="mdescLeft">&#160;</td><td class="mdescRight">THREADSAFE Tells executors to quit, preferring idle executors first, until no more than <code>max_executors</code> remains.  <a href="work__dispatcher_8h.html#a38112db863b6929daa41acda7b39e32b">More...</a><br /></td></tr>
<tr class="separator:a38112db863b6929daa41acda7b39e32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aeb6600c73a6a1d0adce01e614da4d9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6600c73a6a1d0adce01e614da4d9f6">&#9670;&nbsp;</a></span>monad_async_work_dispatcher</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmonad__async__work__dispatcher__head.html">monad_async_work_dispatcher_head</a> * <a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The public attributes of a work dispatcher. </p>

</div>
</div>
<a id="a14eb0cea2c3bf88075dbf0c0411cdacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14eb0cea2c3bf88075dbf0c0411cdacd">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_executor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmonad__async__work__dispatcher__executor__head.html">monad_async_work_dispatcher_executor_head</a> * <a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The public attributes of a work dispatcher. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aea9f0962bcc9ed37ffd7eaba0c1e0057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea9f0962bcc9ed37ffd7eaba0c1e0057">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a> *&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmonad__async__work__dispatcher__attr.html">monad_async_work_dispatcher_attr</a> *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPENSIVE Creates a work dispatcher instance. </p>

</div>
</div>
<a id="a271ff0cc912dfde2e274e038f5394237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271ff0cc912dfde2e274e038f5394237">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a>&#160;</td>
          <td class="paramname"><em>dp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPENSIVE Destroys a work dispatcher instance. </p>

</div>
</div>
<a id="a6c96681377b6ba5431afc79ae66fe475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c96681377b6ba5431afc79ae66fe475">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_executor_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_executor_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a> *&#160;</td>
          <td class="paramname"><em>ex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a>&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmonad__async__work__dispatcher__executor__attr.html">monad_async_work_dispatcher_executor_attr</a> *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPENSIVE Creates a work dispatcher executor instance. </p>

</div>
</div>
<a id="a6cfb10eefdf5a391506bc69eae3a5300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cfb10eefdf5a391506bc69eae3a5300">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_executor_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_executor_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a>&#160;</td>
          <td class="paramname"><em>ex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPENSIVE Destroys a work dispatcher executor instance. </p>

</div>
</div>
<a id="a01dae157c52d239202aad1ae282b2019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01dae157c52d239202aad1ae282b2019">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_executor_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_executor_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a>&#160;</td>
          <td class="paramname"><em>ex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <code><a class="el" href="executor_8h.html#aa167bb2f98d160c08fd028073a2df447" title="Processes no more than max_items work items, returning the number of items processed....">monad_async_executor_run()</a></code> for the calling kernel thread, attaching tasks recently submitted to kernel threads in the pool with spare capacity as per the work dispatcher's configured policy. Returns the number of work items executed, or -1 when time to exit. </p>

</div>
</div>
<a id="a821ef94bdaf5508498f76fe04675111d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821ef94bdaf5508498f76fe04675111d">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_executor_wake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_executor_wake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#a14eb0cea2c3bf88075dbf0c0411cdacd">monad_async_work_dispatcher_executor</a>&#160;</td>
          <td class="paramname"><em>ex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">monad_async_result const *&#160;</td>
          <td class="paramname"><em>cause_run_to_return</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THREADSAFE Causes a sleeping work dispatcher executor to wake. Same as <code><a class="el" href="executor_8h.html#a8e97a25b5a5b75dd3fe5297ec269e7f4" title="THREADSAFE Causes a sleeping executor to wake. Can be called from any kernel thread....">monad_async_executor_wake()</a></code>, but for work dispatcher executors. </p>

</div>
</div>
<a id="a38112db863b6929daa41acda7b39e32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38112db863b6929daa41acda7b39e32b">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_quit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_quit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a>&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_executors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THREADSAFE Tells executors to quit, preferring idle executors first, until no more than <code>max_executors</code> remains. </p>

</div>
</div>
<a id="aace405a76e521732a854b159027cc1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace405a76e521732a854b159027cc1eb">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_submit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_submit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a>&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="context__switcher_8h.html#a9d073079b268e65401e6d5ce11928d94">monad_async_task</a> *&#160;</td>
          <td class="paramname"><em>tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THREADSAFE Submits one or more tasks to be executed by the first available executor within the work dispatcher pool. Higher priority tasks are executed before lower priority tasks. </p>

</div>
</div>
<a id="a2e2debdea771ea3da824cfcec8bec19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2debdea771ea3da824cfcec8bec19b">&#9670;&nbsp;</a></span>monad_async_work_dispatcher_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monad_async_result monad_async_work_dispatcher_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="work__dispatcher_8h.html#aeb6600c73a6a1d0adce01e614da4d9f6">monad_async_work_dispatcher</a>&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_undispatched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_unexecuted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THREADSAFE Wait until all work has been dispatched or executed. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
